[debug] [2025-10-27T15:24:58.252Z] ----------------------------------------------------------------------
[debug] [2025-10-27T15:24:58.259Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only firestore:rules
[debug] [2025-10-27T15:24:58.259Z] CLI Version:   14.4.0
[debug] [2025-10-27T15:24:58.260Z] Platform:      darwin
[debug] [2025-10-27T15:24:58.260Z] Node Version:  v22.16.0
[debug] [2025-10-27T15:24:58.260Z] Time:          Mon Oct 27 2025 09:24:58 GMT-0600 (Mountain Daylight Time)
[debug] [2025-10-27T15:24:58.260Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-27T15:24:58.359Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-27T15:24:58.359Z] > authorizing via signed-in user (sean.a.keller@gmail.com)
[debug] [2025-10-27T15:24:58.360Z] [iam] checking project auditsim-pro-dev for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]
[debug] [2025-10-27T15:24:58.360Z] Checked if tokens are valid: true, expires at: 1761581789869
[debug] [2025-10-27T15:24:58.360Z] Checked if tokens are valid: true, expires at: 1761581789869
[debug] [2025-10-27T15:24:58.361Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/auditsim-pro-dev:testIamPermissions [none]
[debug] [2025-10-27T15:24:58.361Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/auditsim-pro-dev:testIamPermissions x-goog-quota-user=projects/auditsim-pro-dev
[debug] [2025-10-27T15:24:58.361Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/auditsim-pro-dev:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[debug] [2025-10-27T15:24:58.601Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/auditsim-pro-dev:testIamPermissions 200
[debug] [2025-10-27T15:24:58.601Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/auditsim-pro-dev:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[info] 
[info] === Deploying to 'auditsim-pro-dev'...
[info] 
[info] i  deploying firestore 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-10-27T15:24:58.605Z] Checked if tokens are valid: true, expires at: 1761581789869
[debug] [2025-10-27T15:24:58.605Z] Checked if tokens are valid: true, expires at: 1761581789869
[debug] [2025-10-27T15:24:58.605Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev:test [none]
[debug] [2025-10-27T15:24:58.605Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev:test [omitted]
[debug] [2025-10-27T15:24:58.849Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev:test 200
[debug] [2025-10-27T15:24:58.849Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev:test {}
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-10-27T15:24:58.850Z] Checked if tokens are valid: true, expires at: 1761581789869
[debug] [2025-10-27T15:24:58.850Z] Checked if tokens are valid: true, expires at: 1761581789869
[debug] [2025-10-27T15:24:58.850Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev/releases pageSize=10&pageToken=
[debug] [2025-10-27T15:24:58.926Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev/releases 200
[debug] [2025-10-27T15:24:58.926Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev/releases {"releases":[{"name":"projects/auditsim-pro-dev/releases/cloud.firestore","rulesetName":"projects/auditsim-pro-dev/rulesets/38a56459-5166-442f-9232-a4d5a2e2791e","createTime":"2025-05-27T21:42:21.605341Z","updateTime":"2025-10-27T15:16:40.053416Z"},{"name":"projects/auditsim-pro-dev/releases/firebase.storage/auditsim-pro-dev.firebasestorage.app","rulesetName":"projects/auditsim-pro-dev/rulesets/3bdfa9e9-e655-4b02-bc8b-283aa32bec35","createTime":"2025-05-27T21:47:39.844381Z","updateTime":"2025-10-20T21:13:03.636875Z"}]}
[debug] [2025-10-27T15:24:58.950Z] Checked if tokens are valid: true, expires at: 1761581789869
[debug] [2025-10-27T15:24:58.950Z] Checked if tokens are valid: true, expires at: 1761581789869
[debug] [2025-10-27T15:24:58.950Z] >>> [apiv2][query] GET https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev/rulesets/38a56459-5166-442f-9232-a4d5a2e2791e [none]
[debug] [2025-10-27T15:24:59.020Z] <<< [apiv2][status] GET https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev/rulesets/38a56459-5166-442f-9232-a4d5a2e2791e 200
[debug] [2025-10-27T15:24:59.020Z] <<< [apiv2][body] GET https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev/rulesets/38a56459-5166-442f-9232-a4d5a2e2791e [omitted]
[info] i  firestore: latest version of firestore.rules already up to date, skipping upload... 
[debug] [2025-10-27T15:24:59.021Z] [rules] releasing cloud.firestore/(default) with ruleset projects/auditsim-pro-dev/rulesets/38a56459-5166-442f-9232-a4d5a2e2791e
[debug] [2025-10-27T15:24:59.021Z] Checked if tokens are valid: true, expires at: 1761581789869
[debug] [2025-10-27T15:24:59.021Z] Checked if tokens are valid: true, expires at: 1761581789869
[debug] [2025-10-27T15:24:59.021Z] >>> [apiv2][query] PATCH https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev/releases/cloud.firestore/(default) [none]
[debug] [2025-10-27T15:24:59.021Z] >>> [apiv2][body] PATCH https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev/releases/cloud.firestore/(default) {"release":{"name":"projects/auditsim-pro-dev/releases/cloud.firestore/(default)","rulesetName":"projects/auditsim-pro-dev/rulesets/38a56459-5166-442f-9232-a4d5a2e2791e"}}
[debug] [2025-10-27T15:24:59.241Z] <<< [apiv2][status] PATCH https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev/releases/cloud.firestore/(default) 200
[debug] [2025-10-27T16:36:29.472Z] ----------------------------------------------------------------------
[debug] [2025-10-27T16:36:29.477Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only firestore:indexes
[debug] [2025-10-27T16:36:29.478Z] CLI Version:   14.4.0
[debug] [2025-10-27T16:36:29.478Z] Platform:      darwin
[debug] [2025-10-27T16:36:29.478Z] Node Version:  v22.16.0
[debug] [2025-10-27T16:36:29.478Z] Time:          Mon Oct 27 2025 10:36:29 GMT-0600 (Mountain Daylight Time)
[debug] [2025-10-27T16:36:29.478Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-27T16:36:29.587Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-27T16:36:29.588Z] > authorizing via signed-in user (sean.a.keller@gmail.com)
[debug] [2025-10-27T16:36:29.588Z] [iam] checking project auditsim-pro-dev for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]
[debug] [2025-10-27T16:36:29.589Z] Checked if tokens are valid: false, expires at: 1761581789869
[debug] [2025-10-27T16:36:29.589Z] Checked if tokens are valid: false, expires at: 1761581789869
[debug] [2025-10-27T16:36:29.589Z] > refreshing access token with scopes: []
[debug] [2025-10-27T16:36:29.593Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-10-27T16:36:29.594Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-10-27T16:36:29.772Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-10-27T16:36:29.773Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-10-27T16:36:29.789Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/auditsim-pro-dev:testIamPermissions [none]
[debug] [2025-10-27T16:36:29.789Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/auditsim-pro-dev:testIamPermissions x-goog-quota-user=projects/auditsim-pro-dev
[debug] [2025-10-27T16:36:29.789Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/auditsim-pro-dev:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[debug] [2025-10-27T16:36:30.003Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/auditsim-pro-dev:testIamPermissions 200
[debug] [2025-10-27T16:36:30.003Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/auditsim-pro-dev:testIamPermissions {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get"]}
[info] 
[info] === Deploying to 'auditsim-pro-dev'...
[info] 
[info] i  deploying firestore 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-10-27T16:36:30.015Z] Checked if tokens are valid: true, expires at: 1761586588773
[debug] [2025-10-27T16:36:30.015Z] Checked if tokens are valid: true, expires at: 1761586588773
[debug] [2025-10-27T16:36:30.015Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev:test [none]
[debug] [2025-10-27T16:36:30.015Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev:test [omitted]
[debug] [2025-10-27T16:36:30.334Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev:test 200
[debug] [2025-10-27T16:36:30.334Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/auditsim-pro-dev:test {}
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[info] i  firestore: deploying indexes... 
[debug] [2025-10-27T16:36:30.336Z] Checked if tokens are valid: true, expires at: 1761586588773
[debug] [2025-10-27T16:36:30.336Z] Checked if tokens are valid: true, expires at: 1761586588773
[debug] [2025-10-27T16:36:30.336Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/auditsim-pro-dev/databases/(default)/collectionGroups/-/indexes [none]
[debug] [2025-10-27T16:36:30.561Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/auditsim-pro-dev/databases/(default)/collectionGroups/-/indexes 200
[debug] [2025-10-27T16:36:30.561Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/auditsim-pro-dev/databases/(default)/collectionGroups/-/indexes {"indexes":[{"name":"projects/auditsim-pro-dev/databases/(default)/collectionGroups/caseSubmissions/indexes/CICAgNi47oMK","queryScope":"COLLECTION","fields":[{"fieldPath":"submittedAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"},{"name":"projects/auditsim-pro-dev/databases/(default)/collectionGroups/cases/indexes/CICAgJiUsZIK","queryScope":"COLLECTION","fields":[{"fieldPath":"_deleted","order":"ASCENDING"},{"fieldPath":"updatedAt","order":"DESCENDING"},{"fieldPath":"createdAt","order":"DESCENDING"},{"fieldPath":"caseNameLower","order":"ASCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"state":"READY","density":"SPARSE_ALL"}]}
[debug] [2025-10-27T16:36:30.561Z] Checked if tokens are valid: true, expires at: 1761586588773
[debug] [2025-10-27T16:36:30.561Z] Checked if tokens are valid: true, expires at: 1761586588773
[debug] [2025-10-27T16:36:30.561Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/auditsim-pro-dev/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* [none]
[debug] [2025-10-27T16:36:30.676Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/auditsim-pro-dev/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* 200
[debug] [2025-10-27T16:36:30.676Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/auditsim-pro-dev/databases/(default)/collectionGroups/-/fields?filter=indexConfig.usesAncestorConfig=false OR ttlConfig:* {"fields":[{"name":"projects/auditsim-pro-dev/databases/(default)/collectionGroups/__default__/fields/*","indexConfig":{"indexes":[{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"ASCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","order":"DESCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"*","arrayConfig":"CONTAINS"}],"state":"READY"}]}},{"name":"projects/auditsim-pro-dev/databases/(default)/collectionGroups/caseSubmissions/fields/submittedAt","indexConfig":{"indexes":[{"queryScope":"COLLECTION","fields":[{"fieldPath":"submittedAt","order":"ASCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"submittedAt","order":"DESCENDING"}],"state":"READY"},{"queryScope":"COLLECTION","fields":[{"fieldPath":"submittedAt","arrayConfig":"CONTAINS"}],"state":"READY"},{"queryScope":"COLLECTION_GROUP","fields":[{"fieldPath":"submittedAt","order":"DESCENDING"}],"state":"READY"}],"ancestorField":"projects/auditsim-pro-dev/databases/(default)/collectionGroups/__default__/fields/*"}}]}
[info] i  firestore: there are 1 indexes defined in your project that are not present in your firestore indexes file. To delete them, run this command with the --force flag. 
[debug] [2025-10-27T16:36:30.676Z] Creating new index: {"collectionGroup":"caseSubmissions","queryScope":"COLLECTION","fields":[{"fieldPath":"submittedAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}]}
[debug] [2025-10-27T16:36:30.676Z] Checked if tokens are valid: true, expires at: 1761586588773
[debug] [2025-10-27T16:36:30.677Z] Checked if tokens are valid: true, expires at: 1761586588773
[debug] [2025-10-27T16:36:30.677Z] >>> [apiv2][query] POST https://firestore.googleapis.com/v1/projects/auditsim-pro-dev/databases/(default)/collectionGroups/caseSubmissions/indexes [none]
[debug] [2025-10-27T16:36:30.677Z] >>> [apiv2][body] POST https://firestore.googleapis.com/v1/projects/auditsim-pro-dev/databases/(default)/collectionGroups/caseSubmissions/indexes {"fields":[{"fieldPath":"submittedAt","order":"DESCENDING"},{"fieldPath":"__name__","order":"ASCENDING"}],"queryScope":"COLLECTION"}
[debug] [2025-10-27T16:36:30.748Z] <<< [apiv2][status] POST https://firestore.googleapis.com/v1/projects/auditsim-pro-dev/databases/(default)/collectionGroups/caseSubmissions/indexes 409
[debug] [2025-10-27T16:36:30.748Z] <<< [apiv2][body] POST https://firestore.googleapis.com/v1/projects/auditsim-pro-dev/databases/(default)/collectionGroups/caseSubmissions/indexes {"error":{"code":409,"message":"index already exists","status":"ALREADY_EXISTS"}}
[error] 
[error] Error: Request to https://firestore.googleapis.com/v1/projects/auditsim-pro-dev/databases/(default)/collectionGroups/caseSubmissions/indexes had HTTP Error: 409, index already exists
[debug] [2025-10-27T16:36:30.750Z] Error Context: {
  "body": {
    "error": {
      "code": 409,
      "message": "index already exists",
      "status": "ALREADY_EXISTS"
    }
  },
  "response": {
    "statusCode": 409
  }
}
